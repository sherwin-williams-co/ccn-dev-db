CREATE SEQUENCE "COSTCNTR"."CCN_RESTRICTION_SEQ" MINVALUE 1 MAXVALUE 999999999999999999999999999 INCREMENT BY 1 START WITH 61 CACHE 20 NOORDER NOCYCLE;

  CREATE TABLE "COSTCNTR"."CCN_RESTRICTION" 
   (	"RESTRICTION_ID" NUMBER,
	"OBJECT_NAME" VARCHAR2(30),
	"RESTRICTION_EFFECTIVE_DATE" DATE,
	"RESTRICTION_TERM_DATE" DATE,
	"RESTRICTING_USER_ID" VARCHAR2(10),
	CONSTRAINT "STORE_DRAFTS_MASTER_PK" PRIMARY KEY ("RESTRICTION_ID") ENABLE
   );
   
   GRANT SELECT ON CCN_RESTRICTION TO CCNUSER;
   
ALTER TABLE COST_CENTER ADD ACQUISITION_CODE VARCHAR2(2);

  CREATE TABLE "COSTCNTR"."EMPLOYEE_DETAILS" 
   (	"EMPLOYEE_NUMBER" VARCHAR2(7),
	"COST_CENTER_CODE" VARCHAR2(6),
	"EMPLOYEE_NAME" VARCHAR2(32),
	"LAST_NAME" VARCHAR2(20),
	"FIRST_NAME" VARCHAR2(20),
	"MIDDLE_INITIAL" VARCHAR2(2),
	"HOME_ADDRESS_LINE1" VARCHAR2(20),
	"HOME_ADDRESS_LINE2" VARCHAR2(20),
	"HOME_CITY_STATE" VARCHAR2(20),
	"HOME_CITY" VARCHAR2(20),
	"HOME_STATE" VARCHAR2(2),
	"HOME_POSTAL_CODE" VARCHAR2(9),
	"HOME_PHONE" VARCHAR2(10),
	"COMPANY_CODE" VARCHAR2(3),
	"SEX" VARCHAR2(1),
	"EMP_PAYROLL_STATUS" VARCHAR2(1),
	"EMP_ASSIGNMENT_STATUS" VARCHAR2(100),
	"EMP_DIVISION" VARCHAR2(4),
	"HIRE_DATE" DATE,
	"TERM_DATE" DATE,
	"ADJUSTED_SERVICE_DATE" DATE,
	"JOB_CODE" VARCHAR2(5),
	"JOB_DIVISION" VARCHAR2(4),
	"JOB_FAMILY" VARCHAR2(10),
	"JOB_TITLE" VARCHAR2(33),
	"JOB_TYPE" VARCHAR2(15),
	"JOB_LEVEL" VARCHAR2(10),
	"JOB_FUNCTION" VARCHAR2(30),
	"DAD_CODE" VARCHAR2(8)
   );
   
   GRANT SELECT ON EMPLOYEE_DETAILS TO CCNUSER;

  CREATE TABLE "COSTCNTR"."EMPLOYEE_ADMIN_DETAILS" 
   (	"EMPLOYEE_NUMBER" VARCHAR2(7),
	"ADMIN_COST_CENTER_CODE" VARCHAR2(6),
	"EFFECTIVE_DATE" DATE,
	"EXPIRATION_DATE" DATE,
	CONSTRAINT "EMP_ADMIN_PK" PRIMARY KEY ("EMPLOYEE_NUMBER","ADMIN_COST_CENTER_CODE","EFFECTIVE_DATE") ENABLE,
	CONSTRAINT "EMP_ADMIN_FK2" FOREIGN KEY ("ADMIN_COST_CENTER_CODE")
	 REFERENCES "COSTCNTR"."COST_CENTER" ("COST_CENTER_CODE") ENABLE
   );
   
   GRANT SELECT ON EMPLOYEE_ADMIN_DETAILS TO CCNUSER;

  CREATE TABLE "COSTCNTR"."POLLING_HST" 
   (	"COST_CENTER_CODE" VARCHAR2(6) NOT NULL ENABLE,
	"POLLING_STATUS_CODE" VARCHAR2(1) NOT NULL ENABLE,
	"CHANGED_DATE" DATE NOT NULL ENABLE,
	"MULTICAST_IND" VARCHAR2(1),
	"TIME_ZONE" VARCHAR2(2),
	"POLLING_IND" VARCHAR2(1),
	"NEXT_DOWNLOAD_BLOCK_COUNT" VARCHAR2(9),
	"CURRENT_FLAG" VARCHAR2(20)
   );

CREATE OR REPLACE FORCE VIEW "COSTCNTR"."ADDRESS_VW" 
 ( "COST_CENTER_CODE", "ADDRESS_TYPE", "ADDRESS_TYPE_DESCRIPTION", "EFFECTIVE_DATE", "EXPIRATION_DATE", "ADDRESS_LINE_1", "ADDRESS_LINE_2", "ADDRESS_LINE_3", "CITY", "PROVINCE_CODE", "PROVINCE_CODE_DESCRIPTION", "STATE_CODE", "STATE_CODE_DESCRIPTION", "POSTAL_CODE", "ZIP_CODE", "ZIP_CODE_4", "COUNTY", "FIPS_CODE", "DESTINATION_POINT", "CHECK_DIGIT", "VALID_ADDRESS", "COUNTRY_CODE", "COUNTRY_CODE_DESCRIPTION"
  )  AS 
  SELECT
COST_CENTER_CODE
,ADDRESS_TYPE
,NVL(CCN_PICK_LIST_PKG.GET_CODE_DETAIL_VALUE_DSCRPTN('ADDRESS_TYPE','COD',ADDRESS_TYPE),'N/A') ADDRESS_TYPE_DESCRIPTION
,EFFECTIVE_DATE
,EXPIRATION_DATE
,ADDRESS_LINE_1
,ADDRESS_LINE_2
,ADDRESS_LINE_3
,CITY
,PROVINCE_CODE
,NULL AS PROVINCE_CODE_DESCRIPTION
,STATE_CODE
,NVL(CCN_PICK_LIST_PKG.GET_CODE_DETAIL_VALUE_DSCRPTN('STATE_CODE','COD',STATE_CODE),'N/A') STATE_CODE_DESCRIPTION
,POSTAL_CODE
,NULL AS ZIP_CODE
,NULL AS ZIP_CODE_4
,NULL AS COUNTY
,NULL AS FIPS_CODE
,NULL AS DESTINATION_POINT
,NULL AS CHECK_DIGIT
,VALID_ADDRESS
,COUNTRY_CODE
,NVL(CCN_PICK_LIST_PKG.GET_CODE_DETAIL_VALUE_DSCRPTN('COUNTRY_CODE','COD',COUNTRY_CODE),'N/A') COUNTRY_CODE_DESCRIPTION
 FROM ADDRESS_OTHER

UNION

SELECT
COST_CENTER_CODE
,ADDRESS_TYPE
,NVL(CCN_PICK_LIST_PKG.GET_CODE_DETAIL_VALUE_DSCRPTN('ADDRESS_TYPE','COD',ADDRESS_TYPE),'N/A') ADDRESS_TYPE_DESCRIPTION
,EFFECTIVE_DATE
,EXPIRATION_DATE
,ADDRESS_LINE_1
,ADDRESS_LINE_2
,ADDRESS_LINE_3
,CITY
,NULL AS PROVINCE_CODE
,NULL AS PROVINCE_CODE_DESCRIPTION
,STATE_CODE
,NVL(CCN_PICK_LIST_PKG.GET_CODE_DETAIL_VALUE_DSCRPTN('STATE_CODE','COD',STATE_CODE),'N/A') STATE_CODE_DESCRIPTION
,NULL AS POSTAL_CODE
,ZIP_CODE
,ZIP_CODE_4
,COUNTY
,FIPS_CODE
,DESTINATION_POINT
,CHECK_DIGIT
,VALID_ADDRESS
,COUNTRY_CODE
,NVL(CCN_PICK_LIST_PKG.GET_CODE_DETAIL_VALUE_DSCRPTN('COUNTRY_CODE','COD',COUNTRY_CODE),'N/A') COUNTRY_CODE_DESCRIPTION
FROM ADDRESS_USA

UNION

SELECT 
COST_CENTER_CODE
,ADDRESS_TYPE
,NVL(CCN_PICK_LIST_PKG.GET_CODE_DETAIL_VALUE_DSCRPTN('ADDRESS_TYPE','COD',ADDRESS_TYPE),'N/A') ADDRESS_TYPE_DESCRIPTION
,EFFECTIVE_DATE
,EXPIRATION_DATE
,ADDRESS_LINE_1
,ADDRESS_LINE_2
,ADDRESS_LINE_3
,CITY
,PROVINCE_CODE
,NVL(CCN_PICK_LIST_PKG.GET_CODE_DETAIL_VALUE_DSCRPTN('PROVINCE_CODE_CAN','COD',PROVINCE_CODE),'N/A') PROVINCE_CODE_DESCRIPTION
,NULL AS STATE_CODE
,NULL AS STATE_CODE_DESCRIPTION
,POSTAL_CODE
,NULL AS ZIP_CODE
,NULL AS ZIP_CODE_4
,NULL AS COUNTY
,NULL AS FIPS_CODE
,NULL AS DESTINATION_POINT
,NULL AS CHECK_DIGIT
,VALID_ADDRESS
,COUNTRY_CODE
,NVL(CCN_PICK_LIST_PKG.GET_CODE_DETAIL_VALUE_DSCRPTN('COUNTRY_CODE','COD',COUNTRY_CODE),'N/A') COUNTRY_CODE_DESCRIPTION
FROM ADDRESS_CAN

UNION 
SELECT 
COST_CENTER_CODE
,ADDRESS_TYPE
,NVL(CCN_PICK_LIST_PKG.GET_CODE_DETAIL_VALUE_DSCRPTN('ADDRESS_TYPE','COD',ADDRESS_TYPE),'N/A') ADDRESS_TYPE_DESCRIPTION
,EFFECTIVE_DATE
,EXPIRATION_DATE
,ADDRESS_LINE_1
,ADDRESS_LINE_2
,ADDRESS_LINE_3
,CITY
,PROVINCE_CODE
,NVL(CCN_PICK_LIST_PKG.GET_CODE_DETAIL_VALUE_DSCRPTN('PROVINCE_CODE_MEX','COD',PROVINCE_CODE),'N/A') PROVINCE_CODE_DESCRIPTION
,NULL AS STATE_CODE
,NULL AS STATE_CODE_DESCRIPTION
,POSTAL_CODE
,NULL AS ZIP_CODE
,NULL AS ZIP_CODE_4
,NULL AS COUNTY
,NULL AS FIPS_CODE
,NULL AS DESTINATION_POINT
,NULL AS CHECK_DIGIT
,VALID_ADDRESS
,COUNTRY_CODE
,NVL(CCN_PICK_LIST_PKG.GET_CODE_DETAIL_VALUE_DSCRPTN('COUNTRY_CODE','COD',COUNTRY_CODE),'N/A') COUNTRY_CODE_DESCRIPTION
FROM ADDRESS_MEX
 ;
 
 CREATE OR REPLACE FORCE VIEW "COSTCNTR"."COST_CENTER_VW" 
  ( "COST_CENTER_CODE", "COST_CENTER_NAME", "CATEGORY", "CATEGORY_DESCRIPTION", "STATEMENT_TYPE", "STATEMENT_TYPE_DESCRIPTION", "COUNTRY_CODE", "COUNTRY_CODE_DESCRIPTION", "BEGIN_DATE", "OPEN_DATE", "MOVE_DATE", "CLOSE_DATE", "MISSION_TYPE_CODE", "MISSION_TYPE_CODE_DESCRIPTION", "DUNS_NUMBER"
   )  AS 
   SELECT
 COST_CENTER_CODE,
 COST_CENTER_NAME,
 CATEGORY,
 NVL(CCN_PICK_LIST_PKG.GET_CODE_DETAIL_VALUE_DSCRPTN('CATEGORY','COD',CATEGORY),'N/A') CATEGORY_DESCRIPTION,
 STATEMENT_TYPE,
 NVL(CCN_PICK_LIST_PKG.GET_CODE_DETAIL_VALUE_DSCRPTN('STATEMENT_TYPE','COD',STATEMENT_TYPE),'N/A') STATEMENT_TYPE_DESCRIPTION,
 COUNTRY_CODE,
 NVL(CCN_PICK_LIST_PKG.GET_CODE_DETAIL_VALUE_DSCRPTN('COUNTRY_CODE','COD',COUNTRY_CODE),'N/A') COUNTRY_CODE_DESCRIPTION,
 BEGIN_DATE,
 OPEN_DATE,
 MOVE_DATE,
 CLOSE_DATE,
 MISSION_TYPE_CODE,
 NVL(CCN_PICK_LIST_PKG.GET_CODE_DETAIL_VALUE_DSCRPTN('MISSION_TYPE_CODE','COD',MISSION_TYPE_CODE),'N/A') MISSION_TYPE_CODE_DESCRIPTION,
 DUNS_NUMBER
 from cost_center
 ;
 
   CREATE INDEX "COSTCNTR"."COSTCNTR_EFF_DATE" ON "COSTCNTR"."POLLING_HST" ("COST_CENTER_CODE","CHANGED_DATE");
 