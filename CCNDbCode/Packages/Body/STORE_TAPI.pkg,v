head	1.4;
access;
symbols;
locks; strict;
comment	@# @;


1.4
date	2012.09.14.15.09.17;	author TAL946;	state dead;
branches;
next	1.3;
deltatype	text;
kopt	kv;
permissions	444;
commitid	14185053489c084a;
filename	STORE_TAPI.pkg;

1.3
date	2012.09.13.17.35.55;	author TAL946;	state Exp;
branches;
next	1.2;
deltatype	text;
kopt	kv;
permissions	666;
commitid	14045052197a2a62;
filename	STORE_TAPI.pkg;

1.2
date	2012.08.24.14.46.26;	author TAL946;	state Exp;
branches;
next	1.1;
deltatype	text;
kopt	kv;
permissions	666;
commitid	19cc503793c10e02;
filename	STORE_TAPI.pkg;

1.1
date	2012.04.18.15.53.52;	author SW\TAL946;	state Exp;
branches;
next	;
deltatype	text;
kopt	kv;
permissions	666;
commitid	6904f8ee38e3095;
filename	STORE_TAPI.pkg;


desc
@@


1.4
log
@
Committed on the Free edition of March Hare Software CVSNT Server.
Upgrade to CVS Suite for more features and support:
http://march-hare.com/cvsnt/
@
text
@create or replace
PACKAGE body STORE_TAPI
/*********************************************************** 
This is the Package Body
created : 01/25/2012 tal CCN project
updated : 08/24/2012 tal CCN project
updated : 09/13/2012 TAL removed Banking_Type, Deposit_Bag_Reorder, Deposit_Ticket_Reorder
************************************************************/
IS
  -- insert
PROCEDURE ins(
    IN_CLASSIFICATION_CODE    IN STORE.CLASSIFICATION_CODE%type DEFAULT NULL ,
    IN_PERP_INV_START_DATE    IN STORE.PERP_INV_START_DATE%type DEFAULT NULL ,
    IN_CATEGORY               IN STORE.CATEGORY%type ,
    IN_INVENTORY_INDICATOR    IN STORE.INVENTORY_INDICATOR%type DEFAULT NULL ,
    IN_COST_CENTER_CODE       IN STORE.COST_CENTER_CODE%type ,
    IN_SELLING_STORE_FLAG     IN STORE.SELLING_STORE_FLAG%type DEFAULT NULL ,
    IN_RURAL_METRO_ZONE_CODE  IN STORE.RURAL_METRO_ZONE_CODE%type DEFAULT NULL )
IS

--declare
/**************************************************
	variables used in error handling
**************************************************/
	v_code number;

BEGIN
  INSERT
  INTO STORE
    (
      CLASSIFICATION_CODE ,
      PERP_INV_START_DATE ,
      CATEGORY ,
      INVENTORY_INDICATOR ,
      COST_CENTER_CODE ,
      SELLING_STORE_FLAG ,
      RURAL_METRO_ZONE_CODE
    )
    VALUES
    (
      IN_CLASSIFICATION_CODE ,
      IN_PERP_INV_START_DATE ,
      IN_CATEGORY ,
      IN_INVENTORY_INDICATOR ,
      IN_COST_CENTER_CODE ,
      IN_SELLING_STORE_FLAG ,
      IN_RURAL_METRO_ZONE_CODE
    );

EXCEPTION

/************************************************************
	on any error 
	   send the sql error code and the procedure name
	   to the error processor
************************************************************/

	WHEN others then 
	     v_code := SQLCODE;
	     errpkg.raise_err(v_code,'STORE Insert');

END;

-- update
PROCEDURE upd
  (
    IN_CLASSIFICATION_CODE    IN STORE.CLASSIFICATION_CODE%type DEFAULT NULL ,
    IN_PERP_INV_START_DATE    IN STORE.PERP_INV_START_DATE%type DEFAULT NULL ,
    IN_CATEGORY               IN STORE.CATEGORY%type ,
    IN_INVENTORY_INDICATOR    IN STORE.INVENTORY_INDICATOR%type DEFAULT NULL ,
    IN_COST_CENTER_CODE       IN STORE.COST_CENTER_CODE%type ,
    IN_SELLING_STORE_FLAG     IN STORE.SELLING_STORE_FLAG%type DEFAULT NULL ,
    IN_RURAL_METRO_ZONE_CODE  IN STORE.RURAL_METRO_ZONE_CODE%type DEFAULT NULL
  )
IS

--declare
/**************************************************
	variables used in error handling
**************************************************/
	v_code number;

BEGIN
  UPDATE STORE
  SET CLASSIFICATION_CODE  = IN_CLASSIFICATION_CODE ,
    PERP_INV_START_DATE    = IN_PERP_INV_START_DATE ,
    CATEGORY               = IN_CATEGORY ,
    INVENTORY_INDICATOR    = IN_INVENTORY_INDICATOR ,
    SELLING_STORE_FLAG     = IN_SELLING_STORE_FLAG ,
    RURAL_METRO_ZONE_CODE  = IN_RURAL_METRO_ZONE_CODE
  WHERE COST_CENTER_CODE   = IN_COST_CENTER_CODE;

EXCEPTION

/************************************************************
	on any error 
	   send the sql error code and the procedure name
	   to the error processor
************************************************************/

	WHEN others then 
	     v_code := SQLCODE;
	     errpkg.raise_err(v_code,'STORE Update');

END;

-- del
PROCEDURE del(
    IN_COST_CENTER_CODE IN STORE.COST_CENTER_CODE%type )
IS

--declare
/**************************************************
	variables used in error handling
**************************************************/
	v_code number;

BEGIN
  DELETE FROM STORE WHERE COST_CENTER_CODE = IN_COST_CENTER_CODE;

EXCEPTION

/************************************************************
	on any error 
	   send the sql error code and the procedure name
	   to the error processor
************************************************************/

	WHEN others then 
	     v_code := SQLCODE;
	     errpkg.raise_err(v_code,'STORE Delete');

END;

END STORE_tapi;@


1.3
log
@
Committed on the Free edition of March Hare Software CVSNT Server.
Upgrade to CVS Suite for more features and support:
http://march-hare.com/cvsnt/
@
text
@@


1.2
log
@
Committed on the Free edition of March Hare Software CVSNT Server.
Upgrade to CVS Suite for more features and support:
http://march-hare.com/cvsnt/
@
text
@d7 1
a14 1
    IN_DEPOSIT_TICKET_REORDER IN STORE.DEPOSIT_TICKET_REORDER%type DEFAULT NULL ,
a15 1
    IN_DEPOSIT_BAG_REORDER    IN STORE.DEPOSIT_BAG_REORDER%type DEFAULT NULL ,
d18 1
a18 2
    IN_RURAL_METRO_ZONE_CODE  IN STORE.RURAL_METRO_ZONE_CODE%type DEFAULT NULL ,
    IN_BANKING_TYPE           IN STORE.BANKING_TYPE%type DEFAULT NULL )
a33 1
      DEPOSIT_TICKET_REORDER ,
a34 1
      DEPOSIT_BAG_REORDER ,
d37 1
a37 2
      RURAL_METRO_ZONE_CODE ,
      BANKING_TYPE
a43 1
      IN_DEPOSIT_TICKET_REORDER ,
a44 1
      IN_DEPOSIT_BAG_REORDER ,
d47 1
a47 2
      IN_RURAL_METRO_ZONE_CODE ,
      IN_BANKING_TYPE
a69 1
    IN_DEPOSIT_TICKET_REORDER IN STORE.DEPOSIT_TICKET_REORDER%type DEFAULT NULL ,
a70 1
    IN_DEPOSIT_BAG_REORDER    IN STORE.DEPOSIT_BAG_REORDER%type DEFAULT NULL ,
d73 1
a73 2
    IN_RURAL_METRO_ZONE_CODE  IN STORE.RURAL_METRO_ZONE_CODE%type DEFAULT NULL ,
    IN_BANKING_TYPE           IN STORE.BANKING_TYPE%type DEFAULT NULL
a87 1
    DEPOSIT_TICKET_REORDER = IN_DEPOSIT_TICKET_REORDER ,
a88 1
    DEPOSIT_BAG_REORDER    = IN_DEPOSIT_BAG_REORDER ,
d90 1
a90 2
    RURAL_METRO_ZONE_CODE  = IN_RURAL_METRO_ZONE_CODE ,
    BANKING_TYPE           = IN_BANKING_TYPE
@


1.1
log
@*** empty log message ***
@
text
@d2 6
a7 1
PACKAGE body STORE_tapi
d11 1
a12 7
    IN_CLASSIFICATION_CODE    IN STORE.CLASSIFICATION_CODE%type DEFAULT NULL ,
    IN_MISSION_TYPE_CODE      IN STORE.MISSION_TYPE_CODE%type DEFAULT NULL ,
    IN_DEPOSIT_BAG_REORDER    IN STORE.DEPOSIT_BAG_REORDER%type DEFAULT NULL ,
    IN_LEASE_OWN_CODE         IN STORE.LEASE_OWN_CODE%type DEFAULT NULL ,
    IN_COST_CENTER_CODE       IN STORE.COST_CENTER_CODE%type ,
    IN_DUNS_NUMBER            IN STORE.DUNS_NUMBER%type DEFAULT NULL ,
    IN_BANKING_TYPE           IN STORE.BANKING_TYPE%type DEFAULT NULL ,
a14 1
    IN_SEC_LOGO_GROUP_IND     IN STORE.SEC_LOGO_GROUP_IND%type DEFAULT NULL ,
d16 3
d20 1
a20 1
    IN_PRI_LOGO_GROUP_IND     IN STORE.PRI_LOGO_GROUP_IND%type DEFAULT NULL )
d22 7
d33 1
a34 7
      CLASSIFICATION_CODE ,
      MISSION_TYPE_CODE ,
      DEPOSIT_BAG_REORDER ,
      LEASE_OWN_CODE ,
      COST_CENTER_CODE ,
      DUNS_NUMBER ,
      BANKING_TYPE ,
a36 1
      SEC_LOGO_GROUP_IND ,
d38 3
d42 1
a42 1
      PRI_LOGO_GROUP_IND
d46 1
a47 7
      IN_CLASSIFICATION_CODE ,
      IN_MISSION_TYPE_CODE ,
      IN_DEPOSIT_BAG_REORDER ,
      IN_LEASE_OWN_CODE ,
      IN_COST_CENTER_CODE ,
      IN_DUNS_NUMBER ,
      IN_BANKING_TYPE ,
a49 1
      IN_SEC_LOGO_GROUP_IND ,
d51 3
d55 1
a55 1
      IN_PRI_LOGO_GROUP_IND
d57 13
d71 1
d75 1
a76 7
    IN_CLASSIFICATION_CODE    IN STORE.CLASSIFICATION_CODE%type DEFAULT NULL ,
    IN_MISSION_TYPE_CODE      IN STORE.MISSION_TYPE_CODE%type DEFAULT NULL ,
    IN_DEPOSIT_BAG_REORDER    IN STORE.DEPOSIT_BAG_REORDER%type DEFAULT NULL ,
    IN_LEASE_OWN_CODE         IN STORE.LEASE_OWN_CODE%type DEFAULT NULL ,
    IN_COST_CENTER_CODE       IN STORE.COST_CENTER_CODE%type ,
    IN_DUNS_NUMBER            IN STORE.DUNS_NUMBER%type DEFAULT NULL ,
    IN_BANKING_TYPE           IN STORE.BANKING_TYPE%type DEFAULT NULL ,
a78 1
    IN_SEC_LOGO_GROUP_IND     IN STORE.SEC_LOGO_GROUP_IND%type DEFAULT NULL ,
d80 3
d84 1
a84 1
    IN_PRI_LOGO_GROUP_IND     IN STORE.PRI_LOGO_GROUP_IND%type DEFAULT NULL
d87 7
d96 3
a98 7
  SET PERP_INV_START_DATE  = IN_PERP_INV_START_DATE ,
    CLASSIFICATION_CODE    = IN_CLASSIFICATION_CODE ,
    MISSION_TYPE_CODE      = IN_MISSION_TYPE_CODE ,
    DEPOSIT_BAG_REORDER    = IN_DEPOSIT_BAG_REORDER ,
    LEASE_OWN_CODE         = IN_LEASE_OWN_CODE ,
    DUNS_NUMBER            = IN_DUNS_NUMBER ,
    BANKING_TYPE           = IN_BANKING_TYPE ,
a99 1
    SEC_LOGO_GROUP_IND     = IN_SEC_LOGO_GROUP_IND ,
d101 2
d104 15
a118 3
    PRI_LOGO_GROUP_IND     = IN_PRI_LOGO_GROUP_IND
  WHERE COST_CENTER_CODE   = IN_COST_CENTER_CODE
  AND CATEGORY             = IN_CATEGORY;
d120 1
d123 1
a123 2
    IN_COST_CENTER_CODE IN STORE.COST_CENTER_CODE%type ,
    IN_CATEGORY         IN STORE.CATEGORY%type )
d125 7
d133 16
a148 5
  DELETE
  FROM STORE
  WHERE COST_CENTER_CODE = IN_COST_CENTER_CODE
  AND CATEGORY           = IN_CATEGORY;
end;
@

