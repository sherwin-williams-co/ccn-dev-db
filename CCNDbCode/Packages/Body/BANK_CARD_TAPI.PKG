PACKAGE body BANK_CARD_tapi
/*********************************************************** 
This is the Package Body
created : 01/25/2012 tal CCN project
updated : 09/13/2012 TAL added LAST_MAINT_DATE, LAST_MAINT_METHOD_ID, LAST_MAINT_USER_ID
************************************************************/
IS
  -- insert
PROCEDURE ins(
    IN_MERCHANT_ID          IN BANK_CARD.MERCHANT_ID%TYPE ,
    IN_EFFECTIVE_DATE       IN BANK_CARD.EFFECTIVE_DATE%type ,
    IN_LAST_MAINT_USER_ID   IN BANK_CARD.LAST_MAINT_USER_ID%TYPE DEFAULT NULL ,
    IN_LAST_MAINT_DATE      IN BANK_CARD.LAST_MAINT_DATE%TYPE DEFAULT NULL ,
    IN_COST_CENTER_CODE     IN BANK_CARD.COST_CENTER_CODE%TYPE ,
    IN_LAST_MAINT_METHOD_ID IN BANK_CARD.LAST_MAINT_METHOD_ID%TYPE DEFAULT NULL , 
    IN_AMEX_SE_ID           IN BANK_CARD.AMEX_SE_ID%type DEFAULT NULL ,
    IN_EXPIRATION_DATE      IN BANK_CARD.EXPIRATION_DATE%TYPE DEFAULT NULL ,
    IN_QUALITY_CODE         IN BANK_CARD.QUALITY_CODE%type DEFAULT NULL ,
    IN_POLLING_STATUS_CODE  IN BANK_CARD.POLLING_STATUS_CODE%TYPE ,
    IN_DISCOVER_ID          IN BANK_CARD.DISCOVER_ID%type DEFAULT NULL )
IS
BEGIN
  INSERT
  INTO BANK_CARD
    (
      MERCHANT_ID ,
      EFFECTIVE_DATE ,
      LAST_MAINT_USER_ID ,
      LAST_MAINT_DATE ,
      COST_CENTER_CODE ,
      LAST_MAINT_METHOD_ID ,
      AMEX_SE_ID ,
      EXPIRATION_DATE ,
      QUALITY_CODE ,
      POLLING_STATUS_CODE ,
      DISCOVER_ID
    )
    VALUES
    (
      IN_MERCHANT_ID ,
      IN_EFFECTIVE_DATE ,
      IN_LAST_MAINT_USER_ID ,
      IN_LAST_MAINT_DATE ,
      IN_COST_CENTER_CODE ,
      IN_LAST_MAINT_METHOD_ID ,
      IN_AMEX_SE_ID ,
      IN_EXPIRATION_DATE ,
      IN_QUALITY_CODE ,
      IN_POLLING_STATUS_CODE ,
      IN_DISCOVER_ID
    );
END;
-- update
PROCEDURE upd
  (
    IN_MERCHANT_ID          IN BANK_CARD.MERCHANT_ID%TYPE ,
    IN_EFFECTIVE_DATE       IN BANK_CARD.EFFECTIVE_DATE%TYPE ,
    IN_LAST_MAINT_USER_ID   IN BANK_CARD.LAST_MAINT_USER_ID%TYPE DEFAULT NULL ,
    IN_LAST_MAINT_DATE      IN BANK_CARD.LAST_MAINT_DATE%TYPE DEFAULT NULL ,
    IN_COST_CENTER_CODE     IN BANK_CARD.COST_CENTER_CODE%TYPE ,
    IN_LAST_MAINT_METHOD_ID IN BANK_CARD.LAST_MAINT_METHOD_ID%TYPE DEFAULT NULL , 
    IN_AMEX_SE_ID           IN BANK_CARD.AMEX_SE_ID%TYPE DEFAULT NULL ,
    IN_EXPIRATION_DATE      IN BANK_CARD.EXPIRATION_DATE%TYPE DEFAULT NULL ,
    IN_QUALITY_CODE         IN BANK_CARD.QUALITY_CODE%TYPE DEFAULT NULL ,
    IN_POLLING_STATUS_CODE  IN BANK_CARD.POLLING_STATUS_CODE%TYPE ,
    IN_DISCOVER_ID          IN BANK_CARD.DISCOVER_ID%TYPE DEFAULT NULL
  )
IS
BEGIN
  UPDATE BANK_CARD
  SET LAST_MAINT_USER_ID  = IN_LAST_MAINT_USER_ID ,
    LAST_MAINT_DATE       = in_LAST_MAINT_DATE ,
    LAST_MAINT_METHOD_ID  = IN_LAST_MAINT_METHOD_ID ,
    AMEX_SE_ID            = IN_AMEX_SE_ID ,
    EXPIRATION_DATE       = IN_EXPIRATION_DATE ,
    QUALITY_CODE          = IN_QUALITY_CODE ,
    DISCOVER_ID           = IN_DISCOVER_ID
  WHERE COST_CENTER_CODE  = IN_COST_CENTER_CODE
  AND POLLING_STATUS_CODE = IN_POLLING_STATUS_CODE
  AND MERCHANT_ID         = IN_MERCHANT_ID
  AND EFFECTIVE_DATE      = IN_EFFECTIVE_DATE;
END;
-- del
PROCEDURE del(
    IN_COST_CENTER_CODE    IN BANK_CARD.COST_CENTER_CODE%type ,
    IN_POLLING_STATUS_CODE IN BANK_CARD.POLLING_STATUS_CODE%TYPE ,
    IN_MERCHANT_ID         IN BANK_CARD.MERCHANT_ID%type ,
    IN_EFFECTIVE_DATE      IN BANK_CARD.EFFECTIVE_DATE%type )
IS
BEGIN
  DELETE
  FROM BANK_CARD
  WHERE COST_CENTER_CODE  = IN_COST_CENTER_CODE
  AND POLLING_STATUS_CODE = IN_POLLING_STATUS_CODE
  AND MERCHANT_ID         = IN_MERCHANT_ID
  AND EFFECTIVE_DATE      = IN_EFFECTIVE_DATE;
end;
END BANK_CARD_tapi;
/

