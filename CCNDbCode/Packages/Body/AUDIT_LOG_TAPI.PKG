PACKAGE body AUDIT_LOG_tapi
IS
  -- insert
PROCEDURE ins(
    IN_TABLE_NAME       IN AUDIT_LOG.TABLE_NAME%type DEFAULT NULL ,
    IN_LOG_ID           IN AUDIT_LOG.LOG_ID%type ,
    IN_TABLE_ROW_DATA   IN AUDIT_LOG.TABLE_ROW_DATA%type DEFAULT NULL ,
    IN_TABLE_PK_VALUE   IN AUDIT_LOG.TABLE_PK_VALUE%type DEFAULT NULL ,
    IN_TRANSACTION_DATE IN AUDIT_LOG.TRANSACTION_DATE%type DEFAULT NULL ,
    IN_TRANSACTION_ID   IN AUDIT_LOG.TRANSACTION_ID%type ,
    IN_CHANGE_BY        IN AUDIT_LOG.CHANGE_BY%type DEFAULT NULL )
IS
BEGIN
  INSERT
  INTO AUDIT_LOG
    (
      TABLE_NAME ,
      LOG_ID ,
      TABLE_ROW_DATA ,
      TABLE_PK_VALUE ,
      TRANSACTION_DATE ,
      TRANSACTION_ID ,
      CHANGE_BY
    )
    VALUES
    (
      IN_TABLE_NAME ,
      IN_LOG_ID ,
      IN_TABLE_ROW_DATA ,
      IN_TABLE_PK_VALUE ,
      IN_TRANSACTION_DATE ,
      IN_TRANSACTION_ID ,
      IN_CHANGE_BY
    );
END;
-- update
PROCEDURE upd
  (
    IN_TABLE_NAME       IN AUDIT_LOG.TABLE_NAME%type DEFAULT NULL ,
    IN_LOG_ID           IN AUDIT_LOG.LOG_ID%type ,
    IN_TABLE_ROW_DATA   IN AUDIT_LOG.TABLE_ROW_DATA%type DEFAULT NULL ,
    IN_TABLE_PK_VALUE   IN AUDIT_LOG.TABLE_PK_VALUE%type DEFAULT NULL ,
    IN_TRANSACTION_DATE IN AUDIT_LOG.TRANSACTION_DATE%type DEFAULT NULL ,
    IN_TRANSACTION_ID   IN AUDIT_LOG.TRANSACTION_ID%type ,
    IN_CHANGE_BY        IN AUDIT_LOG.CHANGE_BY%type DEFAULT NULL
  )
IS
BEGIN
  UPDATE AUDIT_LOG
  SET TABLE_NAME     = IN_TABLE_NAME ,
    TABLE_ROW_DATA   = IN_TABLE_ROW_DATA ,
    TABLE_PK_VALUE   = IN_TABLE_PK_VALUE ,
    TRANSACTION_DATE = IN_TRANSACTION_DATE ,
    CHANGE_BY        = IN_CHANGE_BY
  WHERE LOG_ID       = IN_LOG_ID
  AND TRANSACTION_ID = IN_TRANSACTION_ID;
END;
-- del
PROCEDURE del(
    IN_LOG_ID         IN AUDIT_LOG.LOG_ID%type ,
    IN_TRANSACTION_ID IN AUDIT_LOG.TRANSACTION_ID%type )
IS
BEGIN
  DELETE
  FROM AUDIT_LOG
  WHERE LOG_ID       = IN_LOG_ID
  AND TRANSACTION_ID = IN_TRANSACTION_ID;
end;
END AUDIT_LOG_tapi;
/

