/*
This script is used to cleanup the customer account numbers 543117089, 677321093, 548213628 
from the store_drafts and store_drafts_detail tables.

Created : 12/13/2016 MXK766 CCN Project Team....
*/


SELECT * FROM STORE_DRAFTS_DETAIL WHERE  (COST_CENTER_CODE,CHECK_SERIAL_NUMBER,TRANSACTION_DATE)
IN (SELECT COST_CENTER_CODE,CHECK_SERIAL_NUMBER,TRANSACTION_DATE FROM STORE_DRAFTS WHERE CUSTOMER_ACCOUNT_NUMBER IN ('543117089'));
--1 Row Selected

DELETE FROM STORE_DRAFTS_DETAIL WHERE  (COST_CENTER_CODE,CHECK_SERIAL_NUMBER,TRANSACTION_DATE)
IN (SELECT COST_CENTER_CODE,CHECK_SERIAL_NUMBER,TRANSACTION_DATE FROM STORE_DRAFTS WHERE CUSTOMER_ACCOUNT_NUMBER IN ('543117089'));
--1 Row Deleted

SELECT * FROM STORE_DRAFTS WHERE CUSTOMER_ACCOUNT_NUMBER IN ('543117089');
--1 Row Selected

DELETE FROM STORE_DRAFTS WHERE CUSTOMER_ACCOUNT_NUMBER IN ('543117089');
--1 Row Deleted

SELECT * FROM STORE_DRAFTS_DETAIL WHERE  (COST_CENTER_CODE,CHECK_SERIAL_NUMBER,TRANSACTION_DATE)
IN (SELECT COST_CENTER_CODE,CHECK_SERIAL_NUMBER,TRANSACTION_DATE FROM STORE_DRAFTS WHERE CUSTOMER_ACCOUNT_NUMBER IN ('677321093'));
--1 Row Selected

DELETE  FROM STORE_DRAFTS_DETAIL WHERE  (COST_CENTER_CODE,CHECK_SERIAL_NUMBER,TRANSACTION_DATE)
IN (SELECT COST_CENTER_CODE,CHECK_SERIAL_NUMBER,TRANSACTION_DATE FROM STORE_DRAFTS WHERE CUSTOMER_ACCOUNT_NUMBER IN ('677321093'));
--1 Row Deleted

SELECT * FROM STORE_DRAFTS WHERE CUSTOMER_ACCOUNT_NUMBER IN ('677321093');
--1 Row Selected

DELETE FROM STORE_DRAFTS WHERE CUSTOMER_ACCOUNT_NUMBER IN ('677321093');
--1 Row Deleted

SELECT * FROM STORE_DRAFTS_DETAIL WHERE  (COST_CENTER_CODE,CHECK_SERIAL_NUMBER,TRANSACTION_DATE)
IN (SELECT COST_CENTER_CODE,CHECK_SERIAL_NUMBER,TRANSACTION_DATE FROM STORE_DRAFTS WHERE CUSTOMER_ACCOUNT_NUMBER IN ('548213628'));
--1 Row Selected

DELETE FROM STORE_DRAFTS_DETAIL WHERE  (COST_CENTER_CODE,CHECK_SERIAL_NUMBER,TRANSACTION_DATE)
IN (SELECT COST_CENTER_CODE,CHECK_SERIAL_NUMBER,TRANSACTION_DATE FROM STORE_DRAFTS WHERE CUSTOMER_ACCOUNT_NUMBER IN ('548213628'));
--1 Row Deleted

SELECT * FROM STORE_DRAFTS WHERE CUSTOMER_ACCOUNT_NUMBER IN ('548213628');
--1 Row Selected

DELETE FROM STORE_DRAFTS WHERE CUSTOMER_ACCOUNT_NUMBER IN ('548213628');
--1 Row Deleted

COMMIT;
